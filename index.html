<!DOCTYPE html>
<html>
  <head>
    <title>Google Map with Post Office Information</title>
    <style>
      body {
        display: flex;
        height: 100vh;
        margin: 0;
        font-family: Arial, sans-serif;
      }
      
      #map {
        flex: 1;
        height: 100%;
      }
      #info {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
      }
    </style>
    <script>
      async function initMap() {
        const mapContainer = document.getElementById("map");

        const { Map } = await google.maps.importLibrary("maps");
        const { AdvancedMarkerElement } = await google.maps.importLibrary("marker");

        // Initialize the map
        const map = new Map(mapContainer, {
          zoom: 15,
          center: { lat: 37.4220656, lng: -122.0840897 },
          mapId: 'f1e16dc75ce5a2c7',  // Replace with your actual Map ID
        });

        // Geocode the post office location
        const geocoder_api = '667c484be3737451793319zna94bd77'
        const area = 'Bhimavaram Railway Colony'
        fetch(`https://geocode.maps.co/search?q=${area}&api_key=${geocoder_api}`)
        .then(response => response.json())
        .then(data => {
            if (data && data.length > 0) {
                const firstResult = data[0];
                const lat = parseFloat(firstResult.lat);
                const lon = parseFloat(firstResult.lon);

                // Assuming 'map' and 'AdvancedMarkerElement' are already defined
                if (lat && lon) {
                    const location = new google.maps.LatLng(lat, lon); // Replace with appropriate map API syntax

                    // Set map center
                    map.setCenter(location);

                    // Create marker
                    new AdvancedMarkerElement({
                        map: map,
                        position: location,
                        title: "Bhimavaram Railway Colony",
                    });
                } else {
                    console.error("Latitude or longitude is not valid.");
                }
            } else {
                console.error("No results found.");
            }
        })
        .catch(error => {
            console.error("Error fetching data:", error);
        });

      }

      window.initMap = initMap;
    </script>
  </head>
  <body>
    <div id="map"></div>
    <div id="info">
      <h1>Bhimavaram Railway Colony</h1>
      <p><strong>Description:</strong> N/A</p>
      <p><strong>Branch Type:</strong> Sub Post Office</p>
      <p><strong>Delivery Status:</strong> Non-Delivery</p>
      <p><strong>Circle:</strong> Andhra Pradesh</p>
      <p><strong>District:</strong> West Godavari</p>
      <p><strong>Division:</strong> Bhimavaram</p>
      <p><strong>Region:</strong> Vijayawada</p>
      <p><strong>State:</strong> Andhra Pradesh</p>
      <p><strong>Country:</strong> India</p>
      <p><strong>Pincode:</strong> 534201</p>
    </div>

    <!-- Load the Google Maps API script asynchronously -->
    <script
        
        src='https://maps.googleapis.com/maps/api/js?key=AIzaSyCvg6EYrQJyOYastrl0iqRABLxHW-OsB5s&callback=initMap'
        async
    ></script>
  </body>
</html>
